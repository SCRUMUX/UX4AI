/**
 * Ð•Ð´Ð¸Ð½Ñ‹Ð¹ Ð¿ÐµÑ€ÐµÑ‡ÐµÐ½ÑŒ ÑÐµÐºÑ†Ð¸Ð¹ - Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº Ð¸ÑÑ‚Ð¸Ð½Ñ‹ Ð´Ð»Ñ Ð²ÑÐµÑ… Ñ‚ÐµÐ¼
 * ÐšÐ°Ð¶Ð´Ð°Ñ ÑÑ†ÐµÐ½Ð° Ð¾Ð±ÑÐ·Ð°Ð½Ð° Ð¸Ð¼ÐµÑ‚ÑŒ ÑÐºÐ¾Ñ€ÑŒ Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð¹ ÑÐµÐºÑ†Ð¸Ð¸ Ð¸Ð· ÑÑ‚Ð¾Ð³Ð¾ ÑÐ¿Ð¸ÑÐºÐ°
 */

export const SECTIONS = [
  'about',      // ðŸŽ¸ Ð’Ð»Ð°Ð´Ð¸Ð¼Ð¸Ñ€ ÐšÐ¾ÑÑ‚ÑÐ»
  'basics',     // â–¶ï¸ ÐžÑÐ½Ð¾Ð²Ñ‹ UX Ð´Ð»Ñ AI
  'patterns',   // ðŸ§© ÐŸÐ°Ñ‚Ñ‚ÐµÑ€Ð½Ñ‹ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ
  'assistant',  // âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð°ÑÑÐ¸ÑÑ‚ÐµÐ½Ñ‚Ð°
  'prompts',    // ðŸ“‹ ÐŸÑ€Ð¾Ð¼Ð¿Ñ‚Ñ‹ Ð¸ Ð¡Ñ†ÐµÐ½Ð°Ñ€Ð¸Ð¸
  'operations', // ðŸ“Š ÐžÐ¿ÐµÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ
  'security',   // ðŸ›¡ï¸ Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ Ð¸ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ
  'marketplace' // ðŸ§­ ÐŸÐ»ÐµÐ¹Ð±ÑƒÐºÐ¸ Ð¸ Ð¼Ð°Ñ€ÐºÐµÑ‚Ð¿Ð»ÐµÐ¹Ñ
];

export const SECTION_NAMES = {
  about: 'ðŸŽ¸ Ð’Ð»Ð°Ð´Ð¸Ð¼Ð¸Ñ€ ÐšÐ¾ÑÑ‚ÑÐ»',
  basics: 'â–¶ï¸ ÐžÑÐ½Ð¾Ð²Ñ‹ UX Ð´Ð»Ñ AI',
  patterns: 'ðŸ§© ÐŸÐ°Ñ‚Ñ‚ÐµÑ€Ð½Ñ‹ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ',
  assistant: 'âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð°ÑÑÐ¸ÑÑ‚ÐµÐ½Ñ‚Ð°',
  prompts: 'ðŸ“‹ ÐŸÑ€Ð¾Ð¼Ð¿Ñ‚Ñ‹ Ð¸ Ð¡Ñ†ÐµÐ½Ð°Ñ€Ð¸Ð¸',
  operations: 'ðŸ“Š ÐžÐ¿ÐµÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ',
  security: 'ðŸ›¡ï¸ Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ Ð¸ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ',
  marketplace: 'ðŸ§­ ÐŸÐ»ÐµÐ¹Ð±ÑƒÐºÐ¸ Ð¸ Ð¼Ð°Ñ€ÐºÐµÑ‚Ð¿Ð»ÐµÐ¹Ñ'
};

export function getSectionId(name) {
  const entry = Object.entries(SECTION_NAMES).find(([id, displayName]) => displayName === name);
  return entry ? entry[0] : null;
}

export function getSectionName(id) {
  return SECTION_NAMES[id] || id;
}

export function validateAnchors(anchors) {
  const anchorIds = anchors.map(a => a.name);
  const missing = SECTIONS.filter(id => !anchorIds.includes(id));
  
  if (missing.length > 0) {
    throw new Error(`Scene missing anchors for sections: ${missing.join(', ')}`);
  }
  
  return true;
}

